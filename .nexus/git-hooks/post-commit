#!/bin/bash
# Post-commit: Check if task is really done

echo ""
echo "üêï The Boulder Rolls On..."
echo "==========================="

# Check for TODOs in commit message
if git log -1 --pretty=%B | grep -qiE '(todo|fixme|hack|wip)'; then
    echo "‚ö†Ô∏è  Commit contains TODO/FIXME/WIP"
    echo "   The boulder is not done rolling."
    echo ""
    echo "Next steps:"
    echo "  1. Complete the TODOs"
    echo "  2. Amend commit: git commit --amend"
    echo "  3. Or create follow-up commits"
fi

# Remind about dogfooding
if git log -1 --pretty=%B | grep -qE '^feat|^fix'; then
    echo ""
    echo "üí° Did you dogfood this change?"
    echo "   Test it in a workspace before pushing."
fi
